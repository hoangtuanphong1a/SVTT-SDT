<script setup>
import { ref } from 'vue'
import Header from '@/components/Header.vue'
import Footer from '@/components/Footer.vue'

const savedJobs = ref(new Set())
const savedCompanies = ref(new Set())
const savedPosts = ref(new Set())

const stats = [
  { value: '10,000+', label: 'Vi·ªác l√†m' },
  { value: '5,000+', label: 'C√¥ng ty' },
  { value: '50,000+', label: '·ª®ng vi√™n' }
]

const jobCategories = [
  { id: 1, name: 'C√¥ng ngh·ªá th√¥ng tin', count: 2547, icon: 'üíª' },
  { id: 2, name: 'Thi·∫øt k·∫ø - ƒê·ªì h·ªça', count: 1234, icon: 'üé®' },
  { id: 3, name: 'Kinh doanh - B√°n h√†ng', count: 1876, icon: 'üìà' },
  { id: 4, name: 'Marketing - PR', count: 987, icon: 'üì¢' },
  { id: 5, name: 'Nh√¢n s·ª±', count: 654, icon: 'üë•' },
  { id: 6, name: 'K·∫ø to√°n - T√†i ch√≠nh', count: 823, icon: 'üìä' },
  { id: 7, name: 'K·ªπ thu·∫≠t - C√¥ng ngh·ªá', count: 1432, icon: 'üîß' },
  { id: 8, name: 'Y t·∫ø - ChƒÉm s√≥c s·ª©c kh·ªèe', count: 765, icon: '‚ù§Ô∏è' }
]

const featuredJobs = [
  { id: 1, title: 'Senior Frontend Developer', company: 'Tech Solutions Vietnam', location: 'H√† N·ªôi', salary: '25-35 tri·ªáu', type: 'Full-time', level: 'Senior', tags: ['ReactJS', 'TypeScript'], posted: '2 gi·ªù tr∆∞·ªõc', featured: true, urgent: true },
  { id: 2, title: 'UI/UX Designer', company: 'Creative Studio', location: 'H·ªì Ch√≠ Minh', salary: '15-25 tri·ªáu', type: 'Full-time', level: 'Middle', tags: ['Figma', 'Adobe XD'], posted: '5 gi·ªù tr∆∞·ªõc', featured: true, urgent: false },
  { id: 3, title: 'Backend Developer', company: 'FinTech Innovations', location: 'ƒê√† N·∫µng', salary: '20-30 tri·ªáu', type: 'Full-time', level: 'Middle', tags: ['NodeJS', 'MongoDB'], posted: '1 ng√†y tr∆∞·ªõc', featured: false, urgent: true },
  { id: 4, title: 'Product Manager', company: 'E-commerce Giant', location: 'H√† N·ªôi', salary: '30-45 tri·ªáu', type: 'Full-time', level: 'Senior', tags: ['Agile', 'Scrum'], posted: '1 ng√†y tr∆∞·ªõc', featured: true, urgent: false },
  { id: 5, title: 'Marketing Executive', company: 'Digital Agency Pro', location: 'H·ªì Ch√≠ Minh', salary: '12-18 tri·ªáu', type: 'Full-time', level: 'Junior', tags: ['SEO', 'Social Media'], posted: '2 ng√†y tr∆∞·ªõc', featured: false, urgent: false },
  { id: 6, title: 'Data Analyst', company: 'Analytics Corp', location: 'Remote', salary: '18-28 tri·ªáu', type: 'Remote', level: 'Middle', tags: ['Python', 'SQL'], posted: '3 ng√†y tr∆∞·ªõc', featured: false, urgent: false }
]

const featuredCompanies = [
  { id: 1, name: 'FPT Software', industry: 'C√¥ng ngh·ªá th√¥ng tin', location: 'H√† N·ªôi', jobs: 127, featured: true, desc: 'FPT Software l√† c√¥ng ty c√¥ng ngh·ªá h√†ng ƒë·∫ßu Vi·ªát Nam v·ªõi h∆°n 35.000 nh√¢n vi√™n.', logo: 'FPT' },
  { id: 2, name: 'VNG Corporation', industry: 'Game & Entertainment', location: 'H·ªì Ch√≠ Minh', jobs: 89, featured: true, desc: 'VNG Corporation - C√¥ng ty game v√† d·ªãch v·ª• s·ªë h√†ng ƒë·∫ßu ƒê√¥ng Nam √Å.', logo: 'VNG' },
  { id: 3, name: 'Tiki', industry: 'E-commerce', location: 'H·ªì Ch√≠ Minh', jobs: 54, featured: false, desc: 'Tiki - S√†n th∆∞∆°ng m·∫°i ƒëi·ªán t·ª≠ h√†ng ƒë·∫ßu Vi·ªát Nam.', logo: 'TIKI' },
  { id: 4, name: 'Grab Vietnam', industry: 'Technology', location: 'H√† N·ªôi', jobs: 76, featured: true, desc: 'Grab - N·ªÅn t·∫£ng di ƒë·ªông h√†ng ƒë·∫ßu ƒê√¥ng Nam √Å.', logo: 'GRAB' },
  { id: 5, name: 'Sendo', industry: 'E-commerce', location: 'H√† N·ªôi', jobs: 43, featured: false, desc: 'Sendo - S√†n TMƒêT uy t√≠n t·∫°i Vi·ªát Nam.', logo: 'SENDO' },
  { id: 6, name: 'MoMo', industry: 'FinTech', location: 'H·ªì Ch√≠ Minh', jobs: 62, featured: true, desc: 'MoMo - V√≠ ƒëi·ªán t·ª≠ h√†ng ƒë·∫ßu Vi·ªát Nam.', logo: 'MOMO' }
]

const blogPosts = [
  {
    id: 1,
    title: '10 K·ªπ nƒÉng m·ªÅm quan tr·ªçng gi√∫p b·∫°n th√†nh c√¥ng trong c√¥ng vi·ªác',
    excerpt: 'Kh√°m ph√° nh·ªØng k·ªπ nƒÉng thi·∫øt y·∫øu m√† m·ªçi chuy√™n gia c·∫ßn c√≥ ƒë·ªÉ ph√°t tri·ªÉn s·ª± nghi·ªáp trong th·ªùi ƒë·∫°i s·ªë...',
    category: 'K·ªπ nƒÉng',
    date: '25/11/2024',
    readTime: '5 ph√∫t ƒë·ªçc',
    image: 'https://images.unsplash.com/photo-1722149493669-30098ef78f9f?w=600&h=400&fit=crop'
  },
  {
    id: 2,
    title: 'C√°ch vi·∫øt CV xin vi·ªác ·∫•n t∆∞·ª£ng thu h√∫t nh√† tuy·ªÉn d·ª•ng',
    excerpt: 'H∆∞·ªõng d·∫´n chi ti·∫øt t·ª´ng b∆∞·ªõc t·∫°o m·ªôt b·∫£n CV chuy√™n nghi·ªáp, n·ªïi b·∫≠t v√† tƒÉng c∆° h·ªôi ƒë∆∞·ª£c nh·∫≠n v√†o l√†m...',
    category: 'CV & Ph·ªèng v·∫•n',
    date: '23/11/2024',
    readTime: '7 ph√∫t ƒë·ªçc',
    image: 'https://images.unsplash.com/photo-1598520106830-8c45c2035460?w=600&h=400&fit=crop'
  },
  {
    id: 3,
    title: 'Xu h∆∞·ªõng tuy·ªÉn d·ª•ng IT nƒÉm 2024: Nh·ªØng v·ªã tr√≠ hot nh·∫•t',
    excerpt: 'Ph√¢n t√≠ch th·ªã tr∆∞·ªùng lao ƒë·ªông IT Vi·ªát Nam v√† d·ª± b√°o nh·ªØng c√¥ng ngh·ªá, v·ªã tr√≠ vi·ªác l√†m ƒë∆∞·ª£c sƒÉn ƒë√≥n nh·∫•t...',
    category: 'Xu h∆∞·ªõng',
    date: '20/11/2024',
    readTime: '6 ph√∫t ƒë·ªçc',
    image: 'https://images.unsplash.com/photo-1624555130858-7ea5b8192c49?w=600&h=400&fit=crop'
  }
]

const toggleSaveJob = (jobId) => {
  if (savedJobs.value.has(jobId)) {
    savedJobs.value.delete(jobId)
  } else {
    savedJobs.value.add(jobId)
  }
}

const toggleSaveCompany = (companyId) => {
  if (savedCompanies.value.has(companyId)) {
    savedCompanies.value.delete(companyId)
  } else {
    savedCompanies.value.add(companyId)
  }
}

const toggleSavePost = (postId) => {
  if (savedPosts.value.has(postId)) {
    savedPosts.value.delete(postId)
  } else {
    savedPosts.value.add(postId)
  }
}
</script>

<template>
  <div class="min-h-screen bg-white flex flex-col">
    <Header />
    <main class="flex-1">
      <section class="relative bg-gradient-to-br from-orange-50 via-red-50 to-pink-50 py-20 lg:py-28">
        <div class="absolute inset-0 overflow-hidden">
          <div class="absolute -top-24 -right-24 w-96 h-96 bg-orange-200/30 rounded-full blur-3xl"></div>
          <div class="absolute -bottom-24 -left-24 w-96 h-96 bg-pink-200/30 rounded-full blur-3xl"></div>
        </div>
        <div class="container mx-auto px-4 relative z-10">
          <div class="grid lg:grid-cols-2 gap-12 items-center">
            <div class="space-y-6">
              <div class="inline-flex items-center gap-2 px-4 py-2 bg-orange-100 text-[#f26b38] rounded-full">
                <span class="text-sm">1000+ vi·ªác l√†m m·ªõi m·ªói ng√†y</span>
              </div>
              <h1 class="text-4xl lg:text-6xl font-bold">
                T√¨m c√¥ng vi·ªác<br />
                <span class="bg-gradient-to-r from-[#f26b38] to-[#e05a27] bg-clip-text text-transparent">m∆° ∆∞·ªõc c·ªßa b·∫°n</span>
              </h1>
              <p class="text-lg text-gray-600 max-w-xl">Kh√°m ph√° h√†ng ngh√¨n c∆° h·ªôi ngh·ªÅ nghi·ªáp t·ª´ c√°c c√¥ng ty h√†ng ƒë·∫ßu.</p>
              <div class="flex flex-wrap gap-4">
                <button class="px-6 py-3 bg-[#f26b38] hover:bg-[#e05a27] text-white rounded-lg font-medium">T√¨m vi·ªác ngay</button>
                <button class="px-6 py-3 border border-gray-300 rounded-lg hover:border-gray-400">T·∫°o CV mi·ªÖn ph√≠</button>
              </div>
              <div class="flex flex-wrap gap-8 pt-8">
                <div v-for="stat in stats" :key="stat.label">
                  <div class="text-3xl font-bold text-[#f26b38]">{{ stat.value }}</div>
                  <div class="text-sm text-gray-600">{{ stat.label }}</div>
                </div>
              </div>
            </div>
            <div class="relative hidden lg:block">
              <div class="relative rounded-2xl overflow-hidden shadow-2xl">
                <img src="https://images.unsplash.com/photo-1589979034086-5885b60c8f59?w=600&h=500&fit=crop" alt="Workspace" class="w-full h-[500px] object-cover" />
                <div class="absolute inset-0 bg-gradient-to-t from-orange-900/20 to-transparent"></div>
              </div>
              <div class="absolute -bottom-6 -left-6 bg-white p-4 rounded-xl shadow-xl">
                <div class="flex items-center gap-3">
                  <div class="h-12 w-12 bg-green-100 rounded-full flex items-center justify-center">
                    <span class="text-xl">‚úì</span>
                  </div>
                  <div>
                    <div class="text-sm text-gray-600">·ª®ng tuy·ªÉn th√†nh c√¥ng</div>
                    <div class="font-bold">+1,247 h√¥m nay</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="py-16 lg:py-24">
        <div class="container mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-bold mb-4">Kh√°m ph√° theo ng√†nh ngh·ªÅ</h2>
            <p class="text-lg text-gray-600">T√¨m ki·∫øm c∆° h·ªôi vi·ªác l√†m ph√π h·ª£p v·ªõi chuy√™n m√¥n v√† ƒëam m√™ c·ªßa b·∫°n</p>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 lg:gap-6">
            <button v-for="cat in jobCategories" :key="cat.id" class="bg-white rounded-xl p-6 border border-gray-200 hover:shadow-xl hover:border-[#f26b38] hover:bg-orange-50 transition-all text-left">
              <div class="text-3xl mb-3">{{ cat.icon }}</div>
              <h3 class="font-medium hover:text-[#f26b38] mb-1">{{ cat.name }}</h3>
              <p class="text-sm text-gray-500">{{ cat.count.toLocaleString() }} vi·ªác l√†m</p>
            </button>
          </div>
        </div>
      </section>

      <section class="py-16 lg:py-24 bg-gray-50">
        <div class="container mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-bold mb-2">Vi·ªác l√†m n·ªïi b·∫≠t</h2>
            <p class="text-lg text-gray-600">C∆° h·ªôi ngh·ªÅ nghi·ªáp t·ªët nh·∫•t t·ª´ c√°c c√¥ng ty h√†ng ƒë·∫ßu</p>
          </div>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div v-for="job in featuredJobs" :key="job.id" class="bg-white rounded-xl p-6 border border-gray-200 hover:shadow-xl hover:border-[#f26b38] transition-all relative">
              <!-- Header: Badge + Logo + Info -->
              <div class="flex items-start gap-3 mb-4">
                <!-- Logo -->
                <div class="w-12 h-12 rounded-lg bg-gradient-to-br from-orange-100 to-orange-200 flex items-center justify-center text-orange-600 text-lg font-bold flex-shrink-0 flex-shrink-0">üíº</div>
                
                <!-- Info -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-1">
                    <span v-if="job.featured" class="px-2 py-0.5 bg-gradient-to-r from-[#f26b38] to-[#e05a27] text-white text-xs rounded-full">N·ªïi b·∫≠t</span>
                    <span v-if="job.urgent" class="px-2 py-0.5 bg-red-500 text-white text-xs rounded-full">G·∫•p</span>
                  </div>
                  <h3 class="text-lg font-medium hover:text-[#f26b38] truncate">{{ job.title }}</h3>
                  <p class="text-sm text-gray-600 truncate">{{ job.company }}</p>
                </div>
                
                <!-- Save Button -->
                <button @click="toggleSaveJob(job.id)" class="text-gray-400 hover:text-[#f26b38] flex-shrink-0">
                  <svg class="h-5 w-5" :fill="savedJobs.has(job.id) ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
                  </svg>
                </button>
              </div>
              
              <!-- Details -->
              <div class="space-y-2 mb-4">
                <p class="text-sm text-gray-600">üìç {{ job.location }}</p>
                <p class="text-sm text-gray-600">üí∞ {{ job.salary }}</p>
                <p class="text-sm text-gray-600">üíº {{ job.type }} ‚Ä¢ {{ job.level }}</p>
              </div>
              
              <!-- Tags -->
              <div class="flex flex-wrap gap-2 mb-4">
                <span v-for="tag in job.tags" :key="tag" class="px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded">{{ tag }}</span>
              </div>
              
              <!-- Footer -->
              <div class="flex items-center justify-between pt-4 border-t border-gray-100">
                <span class="text-sm text-gray-500">{{ job.posted }}</span>
                <a href="#" class="px-4 py-2 bg-[#f26b38] hover:bg-[#e05a27] text-white rounded-lg text-sm font-medium">·ª®ng tuy·ªÉn</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="py-16 lg:py-24">
        <div class="container mx-auto px-4">
          <div class="text-center mb-12">
            <h2 class="text-3xl lg:text-4xl font-bold mb-4">C√¥ng ty h√†ng ƒë·∫ßu</h2>
            <p class="text-lg text-gray-600">Kh√°m ph√° c√°c nh√† tuy·ªÉn d·ª•ng uy t√≠n</p>
          </div>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <div v-for="company in featuredCompanies" :key="company.id" class="bg-white rounded-xl p-6 border border-gray-200 hover:shadow-xl hover:border-[#f26b38] transition-all relative cursor-pointer group">
              <!-- Header: Logo + Info -->
              <div class="flex items-start gap-3 mb-4">
                <!-- Logo -->
                <div class="w-14 h-14 rounded-lg bg-gradient-to-br from-[#f26b38] to-[#e05a27] flex items-center justify-center text-white text-xl font-bold flex-shrink-0 flex-shrink-0">{{ company.logo }}</div>
                
                <!-- Info -->
                <div class="flex-1 min-w-0">
                  <div class="flex items-center gap-2 mb-1">
                    <span v-if="company.featured" class="px-2 py-0.5 bg-gradient-to-r from-[#f26b38] to-[#e05a27] text-white text-xs rounded-full">Top</span>
                  </div>
                  <h3 class="text-lg font-bold hover:text-[#f26b38] truncate">{{ company.name }}</h3>
                  <p class="text-sm text-[#f26b38] font-medium truncate">{{ company.industry }}</p>
                </div>
                
                <!-- Save Button -->
                <button @click="toggleSaveCompany(company.id)" class="text-gray-400 hover:text-[#f26b38] transition-colors flex-shrink-0">
                  <svg class="h-5 w-5" :fill="savedCompanies.has(company.id) ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"/>
                  </svg>
                </button>
              </div>
              
              <!-- Description -->
              <p class="text-sm text-gray-600 mb-3 line-clamp-2">{{ company.desc }}</p>
              
              <!-- Meta -->
              <div class="space-y-1 mb-4">
                <p class="text-sm text-gray-600">üìç {{ company.location }}</p>
                <p class="text-sm text-gray-600">üíº {{ company.jobs }} vi·ªác l√†m ƒëang tuy·ªÉn</p>
              </div>
              
              <!-- Footer Buttons -->
              <div class="flex gap-3 pt-4 border-t border-gray-100">
                <a href="#" class="flex-1 text-center px-4 py-2 bg-[#f26b38] hover:bg-[#e05a27] text-white rounded-lg text-sm font-medium transition-colors">Xem vi·ªác l√†m</a>
                <a href="#" class="flex-1 text-center px-4 py-2 border border-gray-300 hover:bg-orange-50 text-gray-700 rounded-lg text-sm transition-colors">Xem profile</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Blog Section -->
      <section class="py-16 lg:py-24 bg-gray-50">
        <div class="container mx-auto px-4">
          <div class="flex items-center justify-between mb-12">
            <div>
              <h2 class="text-3xl lg:text-4xl mb-2">Blog & C·∫©m nang ngh·ªÅ nghi·ªáp</h2>
              <p class="text-lg text-gray-600">Ki·∫øn th·ª©c v√† kinh nghi·ªám h·ªØu √≠ch cho s·ª± nghi·ªáp c·ªßa b·∫°n</p>
            </div>
            <router-link to="/blog" class="hidden md:flex px-4 py-2 border border-gray-300 rounded-lg hover:border-gray-400 text-sm">Xem t·∫•t c·∫£</router-link>
          </div>
          <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
            <article v-for="post in blogPosts" :key="post.id" class="bg-white rounded-xl overflow-hidden border border-gray-200 hover:shadow-xl transition-all duration-300 cursor-pointer group">
              <div class="relative h-48 overflow-hidden">
                <img :src="post.image" :alt="post.title" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300" />
                <div class="absolute top-4 left-4">
                  <span class="px-2 py-1 bg-white text-gray-900 text-xs rounded-full">{{ post.category }}</span>
                </div>
              </div>
              <div class="p-6">
                <h3 class="text-lg mb-2 line-clamp-2 group-hover:text-[#f26b38] transition-colors">{{ post.title }}</h3>
                <p class="text-sm text-gray-600 mb-4 line-clamp-3">{{ post.excerpt }}</p>
                <div class="flex items-center gap-4 text-sm text-gray-500 mb-4">
                  <span>üìÖ {{ post.date }}</span>
                  <span>üïê {{ post.readTime }}</span>
                </div>
                <router-link to="/blog" class="text-[#f26b38] hover:text-[#e05a27] font-medium text-sm inline-flex items-center gap-1">
                  ƒê·ªçc th√™m
                  <svg class="h-4 w-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                  </svg>
                </router-link>
              </div>
            </article>
          </div>
          <div class="text-center mt-8 md:hidden">
            <router-link to="/blog" class="px-4 py-2 border border-gray-300 rounded-lg hover:border-gray-400 text-sm w-full inline-block">Xem t·∫•t c·∫£ b√†i vi·∫øt</router-link>
          </div>
        </div>
      </section>
    </main>
    <Footer />
  </div>
</template>